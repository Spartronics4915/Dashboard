{
    "layoutName": "Test2022.json",
    "season": 
    {
        "year": "2022",
        "robotid": "${robotid}",
        "field": 
        {
            "//": "27 ft. by 54 ft. (per Henry)",
            "xsize": 648,
            "ysize": 324,
            "xrange": [0, 648],
            "yrange": [-162, 162]
        }
    },
    "environments": 
    {
        "default": 
        {
            "//": "official robot settings",
            "envparam": "env=default",
            "robotid": "Athena",
            "camFeedPort": 5805,
            "visionFeedPort": 5806,
            "camStatusPort": 80,
            "visioncam": "10.49.15.10",
            "driverfrontcam": "10.49.15.11",
            "driverbackcam": "10.49.15.12",
            "driverupcam": "10.49.15.13",
            "driverbackcamcmd": "raspivid -t 0 -b 1500000 -o - -w 640 -h 480 -fps 30 -pf baseline -vf -hf",
            "driverfrontcamcmd": "raspivid -t 0 -b 1500000 -o - -w 640 -h 480 -fps 30 -pf baseline",
            "driverupcamcmd": "raspivid -t 0 -b 1500000 -o - -w 640 -h 480 -fps 30 -pf baseline -vf -hf",
            "testcam": "10.49.15.10:1181"
        },
        "dana": 
        {
            "envparam": "env=dana",
            "testcam": "192.168.1.13:1181",
            "driverbackcam": "192.168.1.3",
            "driverfrontcam": "192.168.1.13",
            "driverupcam": "10.49.15.15",
            "visioncam": "192.168.1.8"
        },
        "test":
        {
            "//": "available for editing on-the-fly",
            "envparam": "env=test",
            "driverbackcam": "10.49.15.109",
            "driverfrontcam": "10.49.15.110",
            "driverupcam": "10.49.15.15",
            "visioncam": "10.49.15.111"
        }
    },
    "pageTemplates": 
    [
        { "//": "--------- driver page -------------------------- ",
            "icon": "fas fa-gamepad primary",
            "navtext": "Compete",
            "widgets": [
                {
                    "type": "systemstate",
                    "id": "competeSS",
                    "label": "Driver Interface",
                    "size": [200, "row"],
                    "widgets": [
                        {
                            "type": "selector",
                            "label": "Auto Strategy",
                            "id": "autoStrategy",
                            "size": [280, "row"],
                            "ntkeys": 
                            [
                                "/SmartDashboard/AutoStrategy",
                                "/SmartDashboard/AutoStrategyOptions"
                            ],
                            "params": 
                            {
                                "ntkey": "/SmartDashboard/AutoStrategy",
                                "optionsntkey": "/SmartDashboard/AutoStrategyOptions",
                                "width": "12em"
                            }
                        },
                        {
                            "type": "selector",
                            "label": "Video Stream",
                            "id": "videoStream",
                            "size": [200, "row"],
                            "ntkey": "/SmartDashboard/Driver/VideoStream",
                            "params": 
                            {
                                "width": "8em",
                                "ntkey": "/SmartDashboard/Driver/VideoStream",
                                "//": "make sure these options are substrings of videochannel's streams array",
                                "options": [
                                    "Test",
                                    "Front",
                                    "Back",
                                    "Up"
                                ]
                            }
                        },
                        {
                            "type": "fieldconfig",
                            "label": "Field Config",
                            "id": "fieldconfig",
                            "size": [400, "row"],
                            "ntkeys": [
                                "/FMSInfo/IsRedAlliance",
                                "/FMSInfo/StationNumber",
                                "/FMSInfo/GameSpecificMessage",
                                "/FMSInfo/ReplayNumber",
                                "/FMSInfo/FMSControlData",
                                "/FMSInfo/EventName",
                                "/FMSInfo/MatchType",
                                "/FMSInfo/MatchNumber"
                            ]
                        }
                    ]
                },
                {
                    "type": "img",
                    "id": "fieldmap",
                    "size": ["fill", "fill"],
                    "params":
                    {
                        "overlayId": "fieldmapOverlay",
                        "url": "/images/field2022.png",
                        "cls": "nopointer size1x"
                    }
                },
                {
                    "//": "fieldmap overlay for *driver* field-view page ---------------",
                    "type": "canvas",
                    "id": "fieldmapOverlay",
                    "size": [0, 0],
                    "ntkeys":
                    [
                        "/FMSInfo/IsRedAlliance",
                        "Paths/AllianceMode"
                    ],
                    "params": {
                        "canvcls": "nopointer",
                        "overlay":
                        {
                            "enable": true,
                            "updateinterval": 500,
                            "//": "items drawn in order (bottom-to-top)",
                            "//1": "XXX: add poseList with skip-sample filtering",
                            "items":
                            [
                                {
                                    "key": "RobotState/pose",
                                    "class": "robot",
                                    "enable": true,
                                    "config":
                                    {
                                        "//XXX": "need to get updated dims",
                                        "xsize": 32.25,
                                        "ysize": 27.5,
                                        "colors":
                                        {
                                            "body": "rgba(200,150,100,.8)"
                                        }
                                    }
                                },
                                {
                                    "//": "draw turret FOV cone atop robot and before waypoints",
                                    "//1": "NB: path widget draws robot here (for now)",
                                    "key": "Launcher/TurretAngle",
                                    "class": "cone",
                                    "enable": true,
                                    "config": 
                                    {
                                        "//": "length is 10ft",
                                        "coordinateSystem": "robot",
                                        "posekey": "RobotState/pose",
                                        "offset": [-10, 0],
                                        "offsetAngle": 180,
                                        "angle": 90,
                                        "length": 120,
                                        "orientation": 0,
                                        "colors": 
                                        {
                                            "active": "rgba(250, 50, 50,.8)",
                                            "inactive": "rgba(50, 250, 50,.8)"
                                        }
                                    }
                                },
                                {
                                    "//": "draw turret aim cone atop robot",
                                    "//1": "NB: path widget draws robot here (for now)",
                                    "key": "Launcher/turretAngle",
                                    "class": "cone",
                                    "enable": true,
                                    "value": 0,
                                    "config": 
                                    {
                                        "//": "length is 10ft (120in)",
                                        "coordinateSystem": "robot",
                                        "posekey": "RobotState/pose",
                                        "offset": [-10, 0],
                                        "offsetAngle": 180,
                                        "angle": 10,
                                        "length": 120,
                                        "orientation": 0,
                                        "keyTarget": "orientation",
                                        "colors": 
                                        {
                                            "active": "rgba(50, 250, 50, .6)",
                                            "inactive": "rgba(50, 250, 50, .8)"
                                        }
                                    }
                                },
                                {
                                    "key": "DriverStation/MatchTime",
                                    "class": "text",
                                    "subclass": "time",
                                    "enable": true,
                                    "origin": [30, 40],
                                    "font": "30px Impact",
                                    "fillStyle": "rgba(255, 255, 10, .85)",
                                    "value": ""
                                }
                            ]
                        }
                    }
                }
            ]
        },
        { "//": "--------- paths page -------------------------- ",
            "navtext": "Paths",
            "icon":  "t-highway-divided ticon", "///": "was fas fa-road",
            "widgets": [
                {
                    "type": "systemstate",
                    "id": "Paths", "// name is important":"",
                    "label": "Path Planning",
                    "size": [150, "row"],
                    "ntkeys": [
                        "Paths/Coords",
                        "Paths/ToRefPt"
                    ],
                    "separator": "<br/>",
                    "widgets": 
                    [
                        {
                            "//": "menu of alliance mode, and current alliance",
                            "type": "selector",
                            "label": "Alliance",
                            "id": "currentAlliance",
                            "size": [180, "row"],
                            "ntkeys": [
                                "Paths/AllianceMode"
                            ],
                            "params": {
                                "width": "8em",
                                "ntkey": "Paths/AllianceMode",
                                "options": [
                                    "FMS",
                                    "Blue",
                                    "Red"
                                ]
                            }
                        },
                        {
                            "//": "menu of paths, and current path",
                            "type": "selector",
                            "label": "Path",
                            "id": "pathsel",
                            "size": [250, "row"],
                            "ntkeys": [
                                "Paths/Current",
                                "Paths/Options"
                            ],
                            "params": {
                                "width": "14em",
                                "ntkey": "Paths/Current",
                                "optionsntkey": "Paths/Options"
                            }
                        },
                        {
                            "//": "menu of paths drawmode",
                            "type": "selector",
                            "label": "Display",
                            "id": "pathsDisplay",
                            "size": [220, "row"],
                            "ntkeys": [
                                "Paths/DisplayMode"
                            ],
                            "params": {
                                "width": "12em",
                                "ntkey": "Paths/DisplayMode",
                                "options": 
                                [
                                    "Robot",
                                    "Robot (paused)",
                                    "Waypoints",
                                    "Spline"
                                ],
                                "//": "ControlPoints isn't very useful"
                            }
                        }
                    ]
                },
                {
                    "type": "img",
                    "id": "fieldmap",
                    "size": [1024, "fill"],
                    "params":
                    {
                        "overlayId": "fieldmapOverlay",
                        "url": "/images/field2022.png",
                        "//": "mouse tracking handled by fieldMapOverlayCanv",
                        "cls": "nopointer size1x"
                    }
                },
                {
                    "type": "texteditor",
                    "id": "patheditor",
                    "size": [400, 600],
                    "ntkeys": ["Paths/Current", "Paths/Clipboard"],
                    "params": 
                    {
                        "title": "Path Editor",
                        "theme": "ace/theme/terminal",
                        "mode": "ace/mode/json",
                        "filesystem": "paths",
                        "pastekey": "Paths/Clipboard"
                    }
                },
                {
                    "//0": "fieldmap overlay in *path-planning* page -----------------",
                    "//1": "canvas goes last since it occupies one grid",
                    "type": "canvas",
                    "id": "fieldmapOverlay",
                    "size": [0, 0],
                    "ntkeys": 
                    [
                        "/FMSInfo/IsRedAlliance",
                        "Paths/AllianceMode",
                        "Paths/DisplayMode"
                    ],
                    "params": {
                        "canvcls": "yespointer",
                        "copykey": "Paths/Clipboard",
                        "overlay":
                        {
                            "enable": true,
                            "updateinterval": 20,
                            "//": "items drawn in order (bottom-to-top)",
                            "items":
                            [
                                {
                                    "//": "draw the selected path",
                                    "//1": "drawmode controlled by selector",
                                    "key": "Paths/Current",
                                    "class": "path",
                                    "enable": true,
                                    "pointerevents": true,
                                    "value": "home",
                                    "config": {
                                        "modekey": "Paths/DisplayMode",
                                        "colors": 
                                        {
                                            "backwheels": "blue",
                                            "frontwheels": "orange",
                                            "body": "rgba(10,10,10,.08)",
                                            "body/active": "rgba(200,150,100,.8)",
                                            "spline": "blue",
                                            "splineCtls": "red",
                                            "waypoints": "blue"
                                        },
                                        "label": 
                                        {
                                            "fillStyle": "orange",
                                            "font": "15px Impact"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            ]
        },
        { "//": "--------- drivetrain page -------------------------- ",
            "navtext": "Drive",
            "icon":  "fas fa-tachometer-alt",
            "widgets": [
                {
                    "type": "systemstate",
                    "id": "Drive", "//": "name is subsystem name",
                    "label": "Drive Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Drive/State",
                              "Drive/Status",
                              "Drive/currentCommand"]
                },
                {
                    "id": "driveOdometry",
                    "label": "Odometry <span class='blue'>pose</a> <span class='yellow'>encoderPose</span>",
                    "type": "pathplot",
                    "size": [400, 300],
                    "enable": true,
                    "ntkeys": ["RobotState/pose",
                               "RobotState/encoderPose"],
                    "params": {
                        "plot": {
                            "channelcount": 2,
                            "xaxis": {
                                "min": 0,
                                "max": 629.25,
                                "show": 1
                            },
                            "yaxis": {
                                "min": -161.625,
                                "max": 161.625,
                                "show": 1
                            },
                            "series": {
                                "shadowSize": 0,
                                "lines": {
                                    "show": 1,
                                    "lineWidth": 1
                                },
                                "points": {
                                    "show": 0
                                }
                            },
                            "colors": ["rgb(20, 120, 255)", "yellow"]
                        }
                    }
                },
                {
                    "id": "driveIMU",
                    "label": "IMU Heading <span class='blue'>Raw</span> <span class='yellow'>Adjusted</span>",
                    "type": "stripchart",
                    "size": [330, 300],
                    "ntkeys": ["Drive/imuHeading"],
                    "ntkeyRefs": ["Drive/imuHeadingAdjusted"],
                    "params": {
                        "plot": {
                            "channelcount": 2,
                            "yaxis": {
                                "min": -200,
                                "max": 200
                            },
                            "widths": [1, 1],
                            "colors":["rgb(20,120,255)", "yellow"]
                        }
                    }
                },
                {
                    "// XXX":  "need to wire this into robot code ---------------",
                    "id": "driveSpeedLeft",
                    "label": "Left <span class='blue'>Speed</span>, <span class='yellow'>Target</span> m/s",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": "Drive/leftSpeed",
                    "ntkeyRefs":[
                        "Drive/leftSpeedTarget"
                    ],
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": -4,
                                "max": 4
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "rgb(200,200,10)"],
                            "channelcount": 2,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "// XXX":  "need to wire this into robot code ---------------",
                    "id": "driveSpeedRight",
                    "label": "Right <span class='blue'>Speed</span>, <span class='yellow'>Target</span> m/s",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": "Drive/rightSpeed",
                    "ntkeyRefs":[
                        "Drive/rightSpeedTarget"
                    ],
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": -4,
                                "max": 4
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "rgb(200,200,10)"],
                            "channelcount": 2,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "// XXX":  "need to wire this into robot code ---------------",
                    "id": "trajectoryStates",
                    "label": "Trajectory State - <span class='blue'>vel</span> <span class='yellow'>acc</a> <span class='amber'>curv</span>",
                    "type": "stripchart",
                    "size": [330, 170],
                    "//": "expect 'velocity acceleration curvature'",
                    "ntkeys": "DriveMotionPlanner/trajectorySetpoints",
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": -35,
                                "max":  35
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "rgb(200,200,10)", "rgb(200,100,0)"],
                            "channelcount": 3,
                            "widths": [1, 1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "// XXX": "need to wire this into robot code ---------------",
                    "enable": false,
                    "id": "leftSpeedoverVoltage",
                    "label": "Left Speed vs %Vbus",
                    "type": "pathplot",
                    "size": [300, 300],
                    "ntkeys": [
                        "Drive/leftDemand"
                    ],
                    "ntkeyRefs": [
                        "Drive/leftSpeed"
                    ],
                    "params": {
                        "plot": {
                            "xaxis": {
                                "min": 0,
                                "max": 1,
                                "show": 1
                            },
                            "yaxis": {
                                "min": 0,
                                "max": 3,
                                "show": 1
                            },
                            "series": {
                                "shadowSize": 0,
                                "lines": {
                                    "show": 0,
                                    "lineWidth": 1
                                },
                                "points": {
                                    "show": 1,
                                    "radius": 0.5,
                                    "fill": 0
                                },
                                "color": "rgb(20, 120, 255)"
                            }
                        }
                    }
                },
                {
                    "// XXX": "disabled for 2020 robot",
                    "enable": false,
                    "type": "systemstate",
                    "id": "Lidar", "//": "name is subsystem name",
                    "label": "Lidar",
                    "size": ["fill", 40],
                    "ntkeys": ["Lidar/status",
                               "Lidar/angle",
                               "Turret/state"
                            ]
                },
                {
                    "// XXX": "disabled for 2020 robot",
                    "enable": false,
                    "id": "lidarOdometry",
                    "label": "LIDAR Odometry",
                    "type": "pathplot",
                    "size": [330, 170],
                    "ntkeys": "Lidar/pose",
                    "params": {
                        "plot": {
                            "xaxis": {
                                "min": 0,
                                "max": 652,
                                "show": 1
                            },
                            "yaxis": {
                                "min": -162,
                                "max": 162,
                                "show": 1
                            },
                            "series": {
                                "shadowSize": 0,
                                "lines": {
                                    "show": 1,
                                    "lineWidth": 1
                                },
                                "points": {
                                    "show": 0
                                },
                                "color": "rgb(20, 120, 255)"
                            }
                        }
                    }
                },
                {
                    "// XXX": "disabled for 2020 robot",
                    "enable": false,
                    "id": "lidarPoints",
                    "label": "LIDAR Points",
                    "type": "pathplot",
                    "size": [330, 170],
                    "ntkeys": "Lidar/points",
                    "params": {
                        "plot": {
                            "xaxis": {
                                "min": 0,
                                "max": 652,
                                "show": 1
                            },
                            "yaxis": {
                                "min": 0,
                                "max": 324,
                                "show": 1
                            },
                            "series": {
                                "shadowSize": 0,
                                "lines": {
                                    "show": 0
                                },
                                "points": {
                                    "show": 1,
                                    "radius": 0.5,
                                    "fill": 0
                                },
                                "color": "rgb(20, 120, 255)"
                            },
                            "maxlength": 300
                        }
                    }
                },
                {
                    "// XXX": "disabled for 2020 robot",
                    "enable": false,
                    "id": "lidarPtsRel",
                    "label": "LIDAR Rel Points",
                    "type": "pathplot",
                    "size": [230, 230],
                    "websubkeys": "lidarscan",
                    "params": {
                        "plot": {
                            "xaxis": {
                                "min": -100,
                                "max": 100,
                                "show": 1
                            },
                            "yaxis": {
                                "min": -100,
                                "max": 100,
                                "show": 1
                            },
                            "series": {
                                "shadowSize": 0,
                                "lines": {
                                    "show": 0
                                },
                                "points": {
                                    "show": 1,
                                    "radius": 0.5,
                                    "fill": 0
                                },
                                "color": "rgb(20, 120, 255)"
                            },
                            "maxlength":  360
                        }
                    }
                }
            ]
        },
        { "//": "--------- vision page -------------------------- ",
            "navtext": "Vision",
            "icon":  "fas fa-eye",
            "widgets": [
                {
                    "id": "Vision", "//": "name is subsystem name",
                    "label": "Vision Subsystem",
                    "type": "systemstate",
                    "size": ["fill", "row"],
                    "ntkeys": ["Vision/currentCommand", "Vision/Status", "Vision/LEDRelay"]
                },
                {
                    "id": "visionLatency",
                    "label": "Latency",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": "Vision/Latency",
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": 0,
                                "max": 1
                            },
                            "fillvalue": 0.5,
                            "colors":["rgb(20,120,255)"],
                            "channelcount": 1,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "id": "visionError",
                    "label": "Pose Error (in)",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": "Vision/PoseError",
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": 0,
                                "max": 20
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)"],
                            "channelcount": 1,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "//": "pathplot of vision-based pose estimates",
                    "id": "visionOdometry",
                    "label": "Vision Odometry",
                    "type": "pathplot",
                    "size": [400, 300],
                    "enable": true,
                    "ntkeys": "Vision/PoseEstimate",
                    "params": {
                        "plot": {
                            "xaxis": {
                                "min": 0,
                                "max": 629.25,
                                "show": 1
                            },
                            "yaxis": {
                                "min": -161.625,
                                "max": 161.625,
                                "show": 1
                            },
                            "series": {
                                "shadowSize": 0,
                                "lines": {
                                    "show": 1,
                                    "lineWidth": 1
                                },
                                "points": {
                                    "show": 0
                                },
                                "color": "rgb(20, 120, 255)"
                            }
                        }
                    }
                },
                {
                    "//": "this may only be useful during debugging",
                    "type": "cameras",
                    "label": "Camera View",
                    "id": "cameras",
                    "size": [400, 400],
                    "ntkeys": [
                        "Vision/Camera"
                    ],
                    "params": {
                        "selector": true,
                        "cameras":
                        {
                            "PiCam default":
                            {
                                "ip": "${visioncam}:5080",
                                "url": "/default.mjpg",
                                "cls": "rotate0 size640"
                            },
                            "PiCam hsv":
                            {
                                "ip": "${visioncam}:5080",
                                "url": "/hsv.mjpg",
                                "cls": "rotate0 size640"
                            },
                            "PiCam bypass mjpg":
                            {
                                "ip": "${visioncam}:5080",
                                "url": "/bypass.mjpg",
                                "cls": "rotate0 size640"
                            },
                            "PiCam mask mjpg":
                            {
                                "ip": "${visioncam}:5080",
                                "url": "/mask.mjpg",
                                "cls": "rotate0 size640"
                            }
                        }
                    }
                }
            ]
        },
        { "//": "--------- tune page -------------------------- ",
            "navtext": "Tune",
            "icon": "fas fa-vial",
            "widgets": [
                {
                    "//": "---Drive -------------------------",
                    "type": "systemstate",
                    "id": "Drive", "//1": "name is subsystem name",
                    "label": "Drive Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Drive/Status", "Drive/currentCommand"]
                },
                {
                    "//": "--Launcher ----------------------------------------",
                    "type": "systemstate",
                    "id": "Launcher", "//1": "name is subsystem name",
                    "label": "Launcher Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Launcher/Status", "Launcher/currentCommand"]
                },
                {
                    "type": "slider",
                    "id": "flywheelSlider",
                    "label": "Flywheel Speed ",
                    "size": [250, "row"],
                    "ntkeys": ["Launcher/flywheelRPSSlider"],
                    "params": {
                        "min": 0,
                        "max": 90,
                        "step": 0.25
                    }
                },
                {
                    "//": "Edit/Tweak/Debug cone associated with Turret Aim Angle",
                    "type": "slider",
                    "id": "turretAimAngle",
                    "label": "Turret Aim Angle ",
                    "size": [250, "row"],
                    "ntkeys": ["Launcher/turretAngleSlider"],
                    "params": {
                        "//": "// max matches TurretConeAngle",
                        "min": -45,
                        "max": 45,
                        "step": 1
                    }
                },
                {
                    "//": "Edit/Tweak/Debug slider associated with Hood Angle",
                    "type": "slider",
                    "id": "hoodAngle",
                    "label": "Hood Angle ",
                    "size": [250, "row"],
                    "ntkeys": ["Launcher/hoodAngleSlider"],
                    "params": {
                        "//": "// max matches HoodAngle",
                        "min": 0,
                        "max": 35,
                        "step": 1
                    }
                },
                {
                    "//": "Edit/Tweak/Debug slider associated with target distance",
                    "type": "slider",
                    "id": "targetDistance",
                    "label": "Target Distance (in)",
                    "size": [270, "row"],
                    "ntkeys": ["Launcher/targetDistanceSlider"],
                    "params": 
                    {
                        "//": "// max matches HoodAngle",
                        "min": 0,
                        "max": 450,
                        "step": 1
                    }
                },
                {
                    "//": " stripcharts begin ---------------------------",
                    "id": "turretFlywheelRPS",
                    "label": "Flywheel <span class='blue'>RPS</span>, <span class='yellow'>Target</span>",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": "Launcher/flywheelRPS",
                    "ntkeyRefs":[
                        "Launcher/flywheelRPSTarget"
                    ],
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": 0,
                                "max": 100
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "rgb(200,200,10)"],
                            "channelcount": 2,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "id": "turretAngle",
                    "label": "Turret Angles <span class='blue'>Yaw</span>, <span class='yellow'>YawTarget</span>, <span class='green'>Pitch (Hood)</span>",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": "Launcher/turretAngle",
                    "ntkeyRefs":[
                        "Launcher/turretAngleTarget",
                        "Launcher/hoodAngle"
                    ],
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": -50,
                                "max": 50
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "rgb(200,200,10)", "green"],
                            "channelcount": 3,
                            "widths": [1, 1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "//": "--Climber-------------------------",
                    "type": "systemstate",
                    "id": "Climber", "//1": "name is subsystem name",
                    "label": "Climber Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Climber/Status", "Climber/currentCommand"]
                },
                {
                    "id": "climberWinchCurrent",
                    "label": "Winch Current <span class='yellow'>Max</span>",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": [
                        "Climber/winchCurrent",
                        "Climber/winchCurrentMax"
                    ],
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": 0,
                                "max": 60
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "yellow"],
                            "channelcount": 2,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "//": "--Indexer-------------------------",
                    "type": "systemstate",
                    "id": "Indexer", "//1": "name is subsystem name",
                    "label": "Indexer Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Indexer/Status", 
                               "Indexer/currentCommand", 
                               "Indexer/ballsHeld",
                               "Indexer/isLaunching",
                               "Indexer/isTransferring"]
                },
                {
                    "id": "indexerPosition",
                    "label": "Position <span class='yellow'>Target</span>",
                    "type": "stripchart",
                    "size": [330, 170],
                    "ntkeys": 
                    [
                        "Indexer/position",
                        "Indexer/targetPosition"
                    ],
                    "params": {
                        "plot": {
                            "yaxis": {
                                "min": 0,
                                "max": 360
                            },
                            "fillvalue": 0,
                            "colors":["rgb(20,120,255)", "yellow"],
                            "channelcount": 2,
                            "widths": [1, 1],
                            "maxlength": 400
                        }
                    }
                },
                {
                    "//": "--Intake--------------------------",
                    "type": "systemstate",
                    "id": "Intake", "//1": "name is subsystem name",
                    "label": "Intake Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Intake/Status", "Intake/currentCommand"]
                },
                {
                    "//": "--PanelRotator--------------------",
                    "type": "systemstate",
                    "id": "PanelRotator", "//1": "name is subsystem name",
                    "label": "PanelRotator Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["PanelRotator/Status", 
                               "PanelRotator/currentColor",
                               "PanelRotator/currentColorConfidence",
                               "PanelRotator/currentCommand"]
                },
                {
                    "//": "-Vision---------------------------",
                    "type": "systemstate",
                    "id": "Vision", "//1": "name is subsystem name",
                    "label": "Vision Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["Vision/Status", 
                               "Vision/currentCommand" 
                               ]
                },
                {
                    "type": "checkbox",
                    "label": "LED Relay",
                    "id": "visionLEDRelay",
                    "size": [120, "row"],
                    "ntkeys": ["Vision/LEDRelay"]
                },
                {
                    "//": "-LED------------------------------",
                    "type": "systemstate",
                    "id": "LED", "//1": "name is subsystem name",
                    "label": "LED Subsystem",
                    "size": ["fill", "row"],
                    "ntkeys": ["LED/Status", "LED/currentCommand"]
                },
                {
                    "//": "-Tests - in 2020 we don't appear to need this?------",
                    "type": "systemstate",
                    "id": "Test", "//1": "no subsystem named tune",
                    "label": "Run Tests",
                    "size": ["fill", "row"],
                    "ntkeys": []
                },
                {
                    "type": "selector",
                    "label": "Test Mode",
                    "id": "testmode",
                    "size": [220, "row"],
                    "ntkeys": ["TestMode",
                               "TestModeOptions"],
                    "params": {
                        "width": "9em",
                        "ntkey": "TestMode",
                        "optionsntkey": "TestModeOptions"
                    }
                },
                {
                    "type": "textinput",
                    "label": "Variant",
                    "id": "testvariant",
                    "size": [220, "row"],
                    "ntkeys": ["TestVariant"],
                    "params": {
                        "width": "10em"
                    }
                },
                {
                    "//": "----------------------------------",
                    "type": "systemstate",
                    "id": "examples", "//1": "name is subsystem name",
                    "label": "Example Widgets",
                    "size": ["fill", "row"],
                    "ntkeys": []
                },
                {
                    "type": "slider",
                    "id": "s1",
                    "label": "A Slider",
                    "size": [200, "row"],
                    "ntkeys": ["Test/Slider1"],
                    "params": {
                        "min": 0,
                        "max": 100,
                        "step": 1
                    }
                },
                {
                    "type": "numberinput",
                    "id": "s2",
                    "label": "A Number",
                    "size": [200, "row"],
                    "ntkeys": ["Test/Number1"],
                    "params": {
                        "min": 0,
                        "max": 1,
                        "step": 0.01
                    }
                },
                {
                    "type": "textinput",
                    "id": "s3",
                    "label": "Some Text",
                    "size": [220, "row"],
                    "ntkeys": ["Test/Text1"],
                    "params": {
                        "width": "8em"
                    }
                },
                {
                    "type": "checkbox",
                    "label": "A Checkbox",
                    "id": "s4",
                    "size": [120, "row"],
                    "ntkeys": ["Test/Check1"]
                },
                {
                    "type": "selector",
                    "label": "A Selector",
                    "id": "s5",
                    "size": [200, "row"],
                    "ntkeys": ["Test/Sel1"],
                    "params": {
                        "width": "8em",
                        "ntkey": "Test/Sel1",
                        "options": [
                             "blue pill",
                             "red pill"
                        ]
                    }
                },
                {
                    "type": "selector",
                    "label": "Another Selector",
                    "id": "s6",
                    "size": [200, "row"],
                    "ntkeys": ["Test/Sel2"],
                    "params": {
                        "width": "8em",
                        "ntkey": "Test/Sel2",
                        "options": [
                             "green pill",
                             "alpha pill"
                        ]
                    }
                },
                {
                    "type": "rangeslider",
                    "size": [200, "row"],
                    "label": "Range Slider",
                    "id": "hrange",
                    "ntkeys": "Test/TestRange",
                    "params":
                    {
                       "min": 0,
                       "max": 255,
                       "from": 0,
                       "to": 255
                    }
                }
            ]
        },
        { "//": "--------- network tables page -------------------------- ",
            "navtext": "Network Tables",
            "icon": "fas fa-network-wired",
            "pagehandler": "NetTabPH",
            "widgets": [
                {
                    "type": "nettab",
                    "label": "networktables",
                    "id": "nettab",
                    "size": ["fill", "fill"]
                }
            ]
        },
        { "//": "--------- robotlog page -------------------------------- ",
            "navtext": "Robot Log",
            "icon":  "fas fa-robot",
            "pagehandler": "RobotlogPH",
            "widgets": [
                {
                    "//": "only shows Talon Devices not as useful",
                    "type": "robotdevices",
                    "label": "CTRE devices",
                    "id": "robotdevs",
                    "size": ["fill", "row"],
                    "ntkeys": ["Robot/Connections"]
                },
                {
                    "type": "robotlog",
                    "label": "robologs",
                    "id": "robotlog",
                    "size": ["fill", "fill"],
                    "ntkeys": ["Robot/Verbosity"]
                }
            ]
        },
        { "//": "--------- about page --------------------------------- ",
            "navtext": "About",
            "icon": "fas fa-cogs",
            "widgets": [
                {
                    "type": "html",
                    "id": "about",
                    "size": [400, 280],
                    "params": {
                        "url": "/pages/about.html"
                    }
                },
                {
                    "type": "html",
                    "id": "about2",
                    "size": [400, 280],
                    "params": {
                        "url": "/pages/about.html"
                    }
                },
                {
                    "type": "html",
                    "id": "about3",
                    "size": [400, 280],
                    "params": {
                        "url": "/pages/about.html"
                    }
                },
                {
                    "type": "html",
                    "id": "about4",
                    "size": [400, 280],
                    "params": {
                        "url": "/pages/about.html"
                    }
                },
                {
                    "type": "html",
                    "id": "helpcam",
                    "size": [200, 280],
                    "params": {
                        "html": [
                            "<div class='references'>",
                            "<h2>Camera Status</h2>",
                            "<ul>",
                            "  <li><a href='http://${driverfrontcam}:${camStatusPort}' target='_blank'>Front</a>",
                            "  <li><a href='http://${driverbackcam}:${camStatusPort}' target='_blank'>Back</a>",
                            "  <li><a href='http://${driverupcam}:${camStatusPort}' target='_blank'>Up</a>",
                            "  <li><a href='http://${visioncam}:${camStatusPort}' target='_blank'>Vision</a>",
                            "</ul>",
                            "<h2>Camera Feeds</h2>",
                            "<ul>",
                            "  <li><a href='http://${driverfrontcam}:${camFeedPort}' target='_blank'>Front</a>",
                            "  <li><a href='http://${driverbackcam}:${camFeedPort}' target='_blank'>Back</a>",
                            "  <li><a href='http://${driverupcam}:${camFeedPort}' target='_blank'>Up</a>",
                            "</ul",
                            "<br><i><b>Remember: a video stream can only have a single viewer!!!</b></i>",
                            "</div>"
                        ]
                    }
                },
                {
                    "type": "html",
                    "id": "helpdash",
                    "size": [310, 280],
                    "params": {
                        "html": [
                            "<div class='references'>",
                            "<h2>Dashboard Links</h2>",
                            "<ul>",
                            "<li><a href='/index.html?${envparam}&'>Standard Launch</a>",
                            "<li><a href='/index.html?${envparam}&demo=1'>Demo</a>",
                            "<li><a href='/index.html?${envparam}&shownav=0&#tab8' target='_blank'>Camera Only</a>",
                            "</ul>",
                            "Dashboard URL syntax:",
                            "<br /><br />",
                            "<code>http://localhost:5080/index.html?shownav=0&demo=1&layout=filename.json&env=dana&#tab0</code>",
                            "<br />",
                            "<br />",
                            "<code><b>shownav</b></code>",
                              " - controls display of navbar <br>",
                            "<code><b>demo</b></code>",
                              " - generates random data <br>",
                            "<code><b>env</b></code> ",
                              " - selects different layout variants <br>",
                            "<code><b>layout</b></code>",
                              " - selects n layout from www/layouts <br>",
                            "<code><b>url hash</b></code> ",
                              " - selects page, follows all optional configs",
                            "<br />",
                            "</div>"
                        ]
                    }
                },
                {
                    "type": "html",
                    "id": "helplayout",
                    "size": [280, 280],
                    "params": {
                        "html": [
                            "<div class='references'>",
                            "<h2>Layout Links</h2>",
                            "<ul>",
                            "<li><a href='/index.html?${envparam}&layout=layout2022.json'>layout2022</a>",
                            "<li><a href='/index.html?${envparam}&layout=layout2020.json'>layout2020</a>",
                            "<li><a href='/index.html?${envparam}&layout=layout2019.json'>layout2019</a>",
                            "</ul>"
                        ]
                    }
                }
            ]
        },
        { "//": "--------- video page -------------------------------------- ",
            "//NB0/icon:": "fas fa-video",
            "//NB1:": "this should be maintained as real driver view",
            "//NB2:": "ie: no widgets since driver has no mouse during match",
            "//NB3:": "we hide this page to minimize the chance of accidental stream-stealing",
            "icon": "_none_", 
            "navtext": "videostream",
            "widgets": [
                {
                    "type": "videostream",
                    "id": "driverstream",
                    "size": ["fill", "fill"],
                    "ntkeys": "Driver/VideoStream",
                    "params":
                    {
                        "overlayId": "videoOverlay",
                        "//multistream:true":  "keep streams open throughout match",
                        "//multistream:false":  "close streams not being viewed",
                        "multistream": false,
                        "streams":
                        {
                            "Test":
                            {
                                "protocol": "testpattern",
                                "cls": "size1280"
                            },
                            "TestM":
                            {
                                "protocol": "http",
                                "ip": "${testcam}",
                                "url": "/stream.mjpg",
                                "cls": "size1x"
                            },
                            "Front":
                            {
                                "protocol": "ws",
                                "ip": "${driverfrontcam}:${camFeedPort}",
                                "cls": "size1280",
                                "cmd": "${driverfrontcamcmd}"
                            },
                            "Back":
                            {
                                "protocol": "ws",
                                "ip": "${driverbackcam}:${camFeedPort}",
                                "cls": "size1280",
                                "cmd": "${driverbackcamcmd}"
                            },
                            "Up":
                            {
                                "protocol": "ws",
                                "ip": "${driverupcam}:${camFeedPort}",
                                "cls": "size1280",
                                "cmd": "${driverupcamcmd}"
                            }
                        }
                    }
                },
                {
                    "type": "canvas",
                    "id": "videoOverlay",
                    "size": [0, 0],
                    "params": {
                        "overlay":
                        {
                            "enable": true,
                            "updateinterval": 500,
                            "//": "items drawn in order (bottom-to-top)",
                            "items":
                            [
                                {
                                    "key": "DriverStation/MatchTime",
                                    "class": "text",
                                    "subclass": "time",
                                    "enable": true,
                                    "origin": [300, 30],
                                    "font": "30px Impact",
                                    "fillStyle": "rgba(255, 255, 10, .85)",
                                    "value": ""
                                },
                                {
                                    "key": "Driver/VideoStream",
                                    "class": "text",
                                    "enable": true,
                                    "origin": [10, 30],
                                    "font": "30px Impact",
                                    "fillStyle": "rgba(255, 255, 10, .85)",
                                    "value": "<nocamera>"
                                },
                                {
                                    "key": "Launcher/turretAngle",
                                    "class": "compass",
                                    "enable": true,
                                    "config":{
                                        "cameraStateKey": "Driver/VideoStream",
                                        "visionStateKey": "Vision/Status",
                                        "needleAngle": 20,
                                        "radius": 50,
                                        "needleColor1": "rgba(255, 255, 0, 1)",
                                        "needleColor2": "rgba(0, 255, 0, 1)",
                                        "bgColor": "rgba(0, 0, 255, .8)",
                                        "lineWidth": 2,
                                        "value": "on"
                                    }
                                },
                                {
                                    "key": "Driver/VideoStreamOverlay/Msg",
                                    "class": "text",
                                    "enable": true,
                                    "origin": [800, 30],
                                    "font": "14px Verdana",
                                    "fillStyle": "rgb(180, 180, 0)",
                                    "shadowOffsetX": 1,
                                    "shadowOffsetY": 1,
                                    "shadowBlur": 1,
                                    "value": ""
                                }
                            ]
                        }
                    }
                }
            ]
        }
    ]
}
